<html>
<head>
	<title>Lookup of D3</title>
	<!-- <script src="http://d3js.org/d3.v3.min.js"></script> -->
	<script src="javascripts/d3.v3.min.js"></script>
		
</head>
<body>
	<svg height="8" width="8" xmlns="http://www.w3.org/2000/svg" version="1.1">
	  <defs>
	    <pattern id="crosshatch" patternUnits="userSpaceOnUse" width="8" height="8">
	      <image xlink:href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='8' height='8'><path fill='#fff' d='M0 0h8v8h-8z'/><path d='M0 0l8 8zm8 0l-8 8z' stroke-width='.5' stroke='#aaa'/></svg>" x="0" y="0" width="8" height="8">
	      </image>
	    </pattern>
	  </defs>
	</svg>

	<script>
		// **** Drawing simple shapes ****
		var canvas = d3.select("body")
					.append("svg")
					.attr("style", "outline: thin solid red;") // Give it a border
					.attr("width",300)
					.attr("height",100);
					
					
		var circle = canvas.append("circle")
					.attr("cx",50)
					.attr("cy",50)
					.attr("r",30)
					.attr("fill","url(#crosshatch)");
					
		var rect = canvas.append("rect")
					.attr("x",100)
					.attr("y",20)
					.attr("width",30)
					.attr("height",50);
					
		var line = canvas.append("line")
					.attr("x1",160)
					.attr("y1",40)
					.attr("x2",400)
					.attr("y2",40)
					.attr("stroke","green");
		/***********************************************/
		/*    Example 2                                */
		/***********************************************/					
		// *** With array of data ***
		var dataArray =[20,40,60,80];
		var canvasWidth = 400;
		var canvasHeight = 200;
		var scaleWidth= d3.scale.linear()		  // SCALE EXample
						.domain([0,80])			  // domain is the actual data min/max
						.range([0,canvasWidth]);  // range is the plotting min/max
						
		var scaleColor = d3.scale.linear()			// Scale can also be applied to COLOR!!!
							.domain([0,80])
							.range(["red","green"]);
							
		var axis = d3.svg.axis()
					.ticks(6) // optional
					.scale(scaleWidth);
						
		var canvas2 = d3.select("body")
				.append("svg")
				.attr("style", "outline: thin solid blue;") // Give it a border
				.attr("width",canvasWidth)
				.attr("height",canvasHeight);
				//.append("g")
				//.attr("transform", "translate(100,100)"); // Just transforms the g element to 100,100: NOTE that canvas2 is not the g element
				
		var bars = 	canvas2.selectAll("rect")
				.data(dataArray)
				.enter()
					.append("rect")
					.attr("width",function(d){ return scaleWidth(d);}) // see how scale is used here!!!
					.attr("height",10)
					.attr("fill",function(d){ return scaleColor(d);})  // see how COLOR scale is used here !!!
					.attr("y",function(d,i){ return i*15;});
		
		canvas2.append("g")
		.attr("transform","translate(0,100)")
		.call(axis);
		
		/***********************************************/
		/*    Example 4 : External data                */
		/***********************************************/
		d3.selectAll("#pic1").append("svg:image")
	      .attr("xlink:href", "resources/pic1.jpg")
	      .attr("width", 150)
	      .attr("height", 200);
		
		d3.json("resources/mydata.json", function(error,data){
			if (error) return console.log(error);
			console.log(data);
			var canvas3 = d3.select("body")
							.append("svg")		
							.attr("width", 300)
							.attr("height", 400)
							.attr("style", "outline: thin solid blue;") // Give it a border;
			var group = canvas3.append("g")
							.attr("transform","translate(50,50)");
			group.selectAll(".myclass")
			.data(data)
			.enter()
			.append("rect")
			.attr("x",function(d){ return d.x;}) 
			.attr("y",function(d){ return d.y;}) 
			.attr("height",80)
			.attr("width",80)
			.style("fill", "lightgreen")
			//.attr("class","myclass")
			;
		
			
			
			
			
			
			
		});
		
			
					
					

			
					

	</script>
</body>
</html>
